<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.theoldsweb.myweb.web.mapper.ActivityMapper">

    <delete id="del">
        DELETE FROM activity WHERE activity_id = #{activityId}
    </delete>
    <select id="getList" resultType="com.theoldsweb.myweb.common.dto.ActivityDto">
        select
        `id` as id,
        `activity_id` as activityId,
        `activity_title` as activityTitle,
        `activity_content` as activityContent,
        `activity_style` as activityStyle,
        `activity_classification` as activityClassification,
        `activity_time` as activityTime,
        `activity_address` as activityAddress,
        `activity_ower` as activityOwer,
        `activity_condition` as activityCondition,
        `activity_phone` as activityPhone,
        `activity_number_of_people` as activityNumberOfPeople,
        `activity_has_people` as activityHasPeople,
        `activity_status` as activityStatus,
        `creat_time` as creatTime,
        `update_time` as updateTime
        from
        activity
        <where>
            <if test="activityDto.activityClassification !=null and activityDto.activityClassification !=''">
                activity_classification=#{activityDto.activityClassification}
            </if>
            <if test="activityDto.activityStyle !=null and activityDto.activityStyle !=''">
                and activity_style=#{activityDto.activityStyle}
            </if>
        </where>
    </select>
</mapper>